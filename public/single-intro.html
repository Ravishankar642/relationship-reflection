<!DOCTYPE html>
<html>

<head>
    <title>Single</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="page">
        <div class="container">
            <h1>ðŸŒ± Being Single</h1>
            <p class="subtitle">Have you been in a relationship before?</p>

            <select id="past">
                <option value="">Select</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
            </select>

            <button onclick="next()">Continue</button>
        </div>
    </div>

    <script>
        async function next() {
            const past = document.getElementById("past").value;
            if (!past) return alert("Select an option");

            const userName = localStorage.getItem("userName");

            await fetch("/save", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    userName,
                    relationshipStatus: "single",
                    flow: past === "yes" ? "single-exp" : "single-no-exp"
                })
            });

            window.location.href = past === "yes"
                ? "single-miss.html"
                : "single-noexp.html";
        }
    </script>

</body>

</html>